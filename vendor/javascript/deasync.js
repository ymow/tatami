import*as e from"fs";import*as n from"path";import*as a from"bindings";import r from"process";var t="default"in e?e.default:e;var o="default"in n?n.default:n;var l="default"in a?a.default:a;var i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var c={};function _nullRequire(e){var n=new Error("Cannot find module '"+e+"'");n.code="MODULE_NOT_FOUND";throw n}var s=r;var u,f=t,p=o;"win32"===s.platform&&Math.random();var d="node-"+/[0-9]+\.[0-9]+/.exec(s.versions.node)[0];var m="node-"+/[0-9]+/.exec(s.versions.node)[0];var v=p.join(new URL(import.meta.url.slice(0,import.meta.url.lastIndexOf("/"))).pathname,"bin",s.platform+"-"+s.arch+"-"+d,"deasync");try{try{f.statSync(v+".node")}catch(e){v=p.join(new URL(import.meta.url.slice(0,import.meta.url.lastIndexOf("/"))).pathname,"bin",s.platform+"-"+s.arch+"-"+m,"deasync");f.statSync(v+".node")}u=_nullRequire(v)}catch(e){u=l("deasync")}function deasync(e){return function(){var n=false;var a=Array.prototype.slice.apply(arguments).concat(cb);var r;var t;e.apply(this||i,a);c.loopWhile((function(){return!n}));if(r)throw r;return t;function cb(e,a){r=e;t=a;n=true}}}c=deasync;c.sleep=deasync((function(e,n){setTimeout(n,e)}));c.runLoopOnce=function(){s._tickCallback();u.run()};c.loopWhile=function(e){while(e()){s._tickCallback();e()&&u.run()}};var h=c;const y=c.sleep,b=c.runLoopOnce,w=c.loopWhile;export{h as default,w as loopWhile,b as runLoopOnce,y as sleep};

