import _readline from"readline";import _fs from"fs";import _events from"events";import _deasync from"deasync";import _chalk from"chalk";import _process from"process";import _util from"util";import _coffeescript from"coffeescript";import _pygmentizeBundled from"pygmentize-bundled";var exports={},_dewExec=false;var _global="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew(){if(_dewExec)return exports;_dewExec=true;var t=_process;(function(){var e,o,r,n,l,i,s,a,p,bind=function(t,e){return function(){return t.apply(e,arguments)}},extend=function(t,e){for(var o in e)u.call(e,o)&&(t[o]=e[o]);function ctor(){(this||_global).constructor=t}ctor.prototype=e.prototype;t.prototype=new ctor;t.__super__=e.prototype;return t},u={}.hasOwnProperty;p=_readline;a=_fs;e=_events.EventEmitter;s=_deasync;i=_chalk;o=function(){function MultilineState(){}MultilineState.prototype.data="";MultilineState.prototype.keypress=function(t,e){(this||_global).data+=e;if((this||_global).data.match(/(\r|\n)\1$/)){(this||_global).data="";t.state("single");return t.send_data()}if(e.match(/(\r|\n)$/))return t.prompt()};MultilineState.prototype.prompt=function(t,e){""===(this||_global).data?t.cli.setPrompt(e.replace(/[^>](?!$)/g,"-")):t.cli.setPrompt(e.replace(/.(?!$)/g,"."));return t.cli._refreshLine()};return MultilineState}();n=function(){function SinglelineState(){}SinglelineState.prototype.keypress=function(t,e){if(""===e){t.state("search");return t.prompt()}if(""===e){t.state("multi");return t.prompt()}if(e.match(/(\r|\n)$/))return t.send_data()};SinglelineState.prototype.prompt=function(t,e){t.cli.setPrompt(e);return t.cli.prompt()};return SinglelineState}();r=function(){function ReverseSearch(){}ReverseSearch.prototype.init=function(){return(this||_global).index=-1};ReverseSearch.prototype.quit=function(t){t.state("single");t.prompt();t.cli._moveCursor(t.cli.line.length);return t.cli._refreshLine()};ReverseSearch.prototype.keypress=function(t,e){var o,r;if(""===e)return this.quit(t);if(13===e.charCodeAt()){if((this||_global).searchResult){t.cli.history.shift();t.cli.history.unshift((this||_global).searchResult);t.type((this||_global).searchResult)}return this.quit(t)}r=""===e?(this||_global).index:-1;o=t.cli.history;while(r<o.length-1)if(o[++r].indexOf(t.cli.line)>0){(this||_global).index=r;break}(this||_global).searchResult=o[(this||_global).index];return t.prompt()};ReverseSearch.prototype.prompt=function(t,e){var o;null===(this||_global).searchResult&&""!==t.cli.line&&(o="failed-");t.cli.setPrompt("("+(o||"")+"reverse-i-search)`"+t.cli.line+"': "+((this||_global).searchResult||"")+"      # ");return t.cli._refreshLine()};return ReverseSearch}();l=function(e){extend(SyncPrompt,e);SyncPrompt.prototype.lines="";SyncPrompt.prototype.count=0;SyncPrompt.prototype.done=false;SyncPrompt.prototype._state="single";SyncPrompt.prototype.states={multi:new o,single:new n,search:new r};function SyncPrompt(e){var o,r,n,l;l=e.typeahead,(this||_global).mode=e.mode;(this||_global).close=bind((this||_global).close,this||_global);(this||_global).type=bind((this||_global).type,this||_global);(this||_global).prompt=bind((this||_global).prompt,this||_global);(this||_global).send_data=bind((this||_global).send_data,this||_global);(this||_global).keypress=bind((this||_global).keypress,this||_global);(this||_global).line=bind((this||_global).line,this||_global);(this||_global).state=bind((this||_global).state,this||_global);SyncPrompt.__super__.constructor.apply(this||_global,arguments);(this||_global).indent="";(this||_global).cli=p.createInterface({input:t.stdin,output:t.stdout,completer:l,terminal:true,historySize:500});try{r=a.readFileSync(t.env.HOME+"/.pryjs_history").toString();(this||_global).cli.history=r.split("\n").reverse()}catch(o){null}n=(this||_global).cli.history[0];(this||_global).cli.on("line",function(e){return function(o){if(o&&o.length&&o!==n){a.appendFile(t.env.HOME+"/.pryjs_history","\n"+o,(function(){}));n=o}return e.line(o)}}(this||_global));t.stdin.on("data",(this||_global).keypress)}SyncPrompt.prototype.state=function(t){var e;if(t){(this||_global)._state=t;"function"===typeof(e=(this||_global).states[t]).init&&e.init()}return(this||_global).states[(this||_global)._state]};SyncPrompt.prototype.line=function(t){22===t.charCodeAt(0)&&(t=t.slice(1));return(this||_global).lines+="\n"+t};SyncPrompt.prototype.keypress=function(t){return this.state().keypress(this||_global,t.toString())};SyncPrompt.prototype.send_data=function(){var t,e;(this||_global).count++;t=function(t){return function(){t.lines="";return t.prompt()}}(this||_global);e="function"===typeof(this||_global).onData?this.onData((this||_global).lines.trim(),{next:t,stop:(this||_global).close}):void 0;return(null!=e&&"function"===typeof e.then?e.then(t):void 0)||t()};SyncPrompt.prototype.prompt=function(){return this.state().prompt(this||_global,["["+(this||_global).count+"] ","js"===(this||_global).mode?i.white("pryjs"):i.blue("pryjs"),(this||_global).indent?"* "+(this||_global).indent:"> "].join(""))};SyncPrompt.prototype.open=function(){var t;(this||_global).done=false;this.prompt();t=[];while(!(this||_global).done)t.push(s.runLoopOnce());return t};SyncPrompt.prototype.type=function(t){(this||_global).lines=t;return this.send_data()};SyncPrompt.prototype.close=function(){(this||_global).done=true;t.stdin.removeListener("data",(this||_global).keypress);return(this||_global).cli.close()};return SyncPrompt}(e);exports=l}).call(exports);return exports}var exports$1={},_dewExec$1=false;function dew$1(){if(_dewExec$1)return exports$1;_dewExec$1=true;var t=exports$1=exports$1=_util;exports$1.inspect=inspect;function inspect(t,e,o,r){var n={showHidden:e,seen:[],stylize:r?stylizeWithColor:stylizeNoColor};return formatValue(n,t,"undefined"===typeof o?inspect.defaultDepth:o,true)}inspect.defaultDepth=2;inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function stylizeWithColor(t,e){var o=inspect.styles[e];return o?"["+inspect.colors[o][0]+"m"+t+"["+inspect.colors[o][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};t.forEach((function(t,o){e[t]=true}));return e}var e=Object.prototype.toString.toString();function formatValue(o,r,n,l){if(isProxy(r))return"[Probably Proxy]";var i=formatPrimitive(o,r);if(i)return i;var s=Object.keys(r);var a=arrayToHash(s);o.showHidden&&(s=Object.getOwnPropertyNames(r));if(0===s.length){if("function"===typeof r){var p=r.name?": "+r.name:"";var u=Function.prototype.toString.call(r);if(l&&u!==e)return u.startsWith("class")?o.stylize("class","special")+u.substring(5):u.match(/function /)?o.stylize("function","special")+u.substring(8):u;u=u.substring(u.indexOf("("));var c=u.substring(0,u.indexOf(")")+1);c="["+r.length+"]"+c;return o.stylize("[Function"+p+c+"]","special")}if(t.isRegExp(r))return o.stylize(RegExp.prototype.toString.call(r),"regexp");if(t.isDate(r))return o.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var f="",h=false,g=false,y=["{","}"];if(t.isArray(r)){h=true;y=["[","]"]}if("function"===typeof r){var d=r.name?": "+r.name:"";f=" /Function"+d}t.isRegExp(r)&&(f=" "+RegExp.prototype.toString.call(r));t.isDate(r)&&(f=" "+Date.prototype.toUTCString.call(r));isError(r)&&(f=" "+formatError(r));if(r instanceof Set)y[0]="Set {";else if(r instanceof Map)y[0]="Map {";else if(0===s.length&&(!h||0==r.length))return y[0]+f+y[1];if(n<0)return t.isRegExp(r)?o.stylize(RegExp.prototype.toString.call(r),"regexp"):o.stylize("[Object]","special");if(!h&&"function"===typeof r[Symbol.iterator]){1===y[0].length&&(y[0]="Iterator {");g=true}o.seen.push(r);var b;if(h)b=formatArray(o,r,n,a,s);else if(g){let t=[...r];s=Object.keys(t);a=arrayToHash(s);b=formatArray(o,Array.from(r),n,a,s)}else b=s.map((function(t){return formatProperty(o,r,n,a,t,h)}));o.seen.pop();return reduceToSingleString(b,f,y)}function formatPrimitive(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var o="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(o,"string");case"number":return t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return isProxy(e)?"[Probably Proxy]":null===e?t.stylize("null","null"):void 0}function formatError(t){let e=Error.prototype.toString.call(t);return"["+e+"]\n"+t.stack.split("\n").slice(1,5).join("\n")}function formatArray(t,e,o,r,n){var l=[];for(var i=0,s=e.length;i<s;++i)Object.prototype.hasOwnProperty.call(e,String(i))?l.push(formatProperty(t,e,o,r,String(i),true)):l.push("");n.forEach((function(n){n.match(/^\d+$/)||l.push(formatProperty(t,e,o,r,n,true))}));return l}function isError(e){try{return t.isError(e)}catch(t){return false}}function isProxy(t){try{return"object"===typeof t&&"undefined"===String(t)}catch(t){return false}}function formatProperty(t,e,o,r,n,l){var i,s,a;try{e[n]}catch(t){return"[Probably Proxy]"}if(isProxy(e[n]))s="[Probably Proxy]";else{a=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]};a.get?s=a.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):a.set&&(s=t.stylize("[Setter]","special"));r.hasOwnProperty(n)||(i=n);if(!s)if(t.seen.indexOf(a.value)<0){s=formatValue(t,a.value,null===o?null:o-1);s.indexOf("\n")>-1&&(s=l?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n"))}else s=t.stylize("[Circular]","special")}if("undefined"===typeof i){if(l&&n.match(/^\d+$/))return s;i=JSON.stringify(""+n);if(i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){i=i.substr(1,i.length-2);i=t.stylize(i,"name")}else{i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");i=t.stylize(i,"string")}}return i+": "+s}function reduceToSingleString(t,e,o){if(t.length>2){var r=!t.find(e=>e!==t[0]);if(r)return o[0]+" "+t.length+" x "+t[0]+" "+o[1]}var n=0;var l=t.reduce((function(t,e){n++;e.indexOf("\n")>=0&&n++;return t+e.length+1}),0);return l>60?o[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+o[1]:o[0]+e+" "+t.join(", ")+" "+o[1]}function objectToString(t){return Object.prototype.toString.call(t)}return exports$1}var exports$2={},_dewExec$2=false;var _global$1="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$2(){if(_dewExec$2)return exports$2;_dewExec$2=true;var t=_process;(function(){var e,o,bind=function(t,e){return function(){return t.apply(e,arguments)}},r=[].slice;o=dew$1().inspect;e=function(){function LocalOutput(){(this||_global$1).prettySend=bind((this||_global$1).prettySend,this||_global$1)}LocalOutput.prototype.output=[];LocalOutput.prototype.send=console.log.bind(console);LocalOutput.prototype.prettySend=function(){var e,r,n;r=function(){var t,r,n;n=[];for(t=0,r=arguments.length;t<r;t++){e=arguments[t];n.push(o(e,false,2,true))}return n}.apply(this||_global$1,arguments).join("\n");n=r.split("\n");return n.length>t.stdout.rows-2?console.log(n.slice(0,t.stdout.rows-3).concat(["more lines here..."]).join("\n")):console.log(r)};LocalOutput.prototype.add=function(){var t;t=1<=arguments.length?r.call(arguments,0):[];return(this||_global$1).output.push(t.join(" "))};LocalOutput.prototype.sendAll=function(){this.send((this||_global$1).output.join("\n"));return(this||_global$1).output=[]};return LocalOutput}();exports$2=e}).call(exports$2);return exports$2}var exports$3={},_dewExec$3=false;function dew$3(){if(_dewExec$3)return exports$3;_dewExec$3=true;(function(){var t,e,o,r,n,l;e=_fs;l=e.readdirSync(new URL(import.meta.url.slice(0,import.meta.url.lastIndexOf("/"))).pathname);for(o=0,r=l.length;o<r;o++){t=l[o];if(t.match(/\.(coffee|js)$/)&&!t.match(/index\.(js|coffee)/)){t=t.substr(0,t.indexOf("."));n=t.substring(0,1).toUpperCase()+t.substring(1);exports$3[n]=require("./"+t)}}}).call(exports$3);return exports$3}var exports$4={},_dewExec$4=false;var _global$2="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$4(){if(_dewExec$4)return exports$4;_dewExec$4=true;(function(){var t,e,o;e=_coffeescript;o=dew$9();t=function(){Compiler.prototype.mode_id=0;Compiler.prototype.modes=["js","coffee"];function Compiler(t){var e;(this||_global$2).scope=t.scope,e=t.isCoffee;e&&((this||_global$2).mode_id=1)}Compiler.prototype.mode=function(){return(this||_global$2).modes[(this||_global$2).mode_id]};Compiler.prototype.toggle_mode=function(){return(this||_global$2).mode_id=((this||_global$2).mode_id+1)%(this||_global$2).modes.length};Compiler.prototype.execute=function(t,e){null==e&&(e=(this||_global$2).modes[(this||_global$2).mode_id]);return this["execute_"+e](t)};Compiler.prototype.execute_coffee=function(t){var o;t.match(/await/)&&(t="do -> "+t);o=e.compile(t,{bare:true}).split("\n");t=o.filter((function(t){return t.length>0&&"var"!==t.trim().slice(0,3)})).join("\n");t=t.replace(/var (\w+)/g,"global.$1 = null");return this.execute_js(t)};Compiler.prototype.execute_js=function(t){var e,o,r,n,l,i,s;try{return this.scope(t)}catch(o){e=o;s=[];i=e.stack.split("\n");for(r=0,n=i.length;r<n;r++){l=i[r];if(l.includes(new URL(import.meta.url.slice(0,import.meta.url.lastIndexOf("/"))).pathname))break;s.push(l)}e.stack=s.join("\n");throw e}};return Compiler}();exports$4=t}).call(exports$4);return exports$4}var exports$5={},_dewExec$5=false;var _global$3="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$5(){if(_dewExec$5)return exports$5;_dewExec$5=true;(function(){var t,e,bind=function(t,e){return function(){return t.apply(e,arguments)}},o={}.hasOwnProperty,r=[].indexOf||function(t){for(var e=0,o=(this||_global$3).length;e<o;e++)if(e in(this||_global$3)&&(this||_global$3)[e]===t)return e;return-1};e=dew$4();t=function(){var t,n,l,i;t=/\s*([\@\w\.]+)(?:\.(\w*))$/;i=/\s*(\@)(\w*)/;l=/\s*(\w*)$/i;n=["undefined","then","unless","until","loop","of","by","when","require","true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","if","else","switch","for","while","do","try","catch","finally","class","extends","super","whereami","kill!","exit","wtf","play","version","help"].concat(Object.getOwnPropertyNames(_global$3));function AutoComplete(t,o){(this||_global$3).scope=t;(this||_global$3).file=o;(this||_global$3).autocomplete=bind((this||_global$3).autocomplete,this||_global$3);(this||_global$3).localVars=(this||_global$3).file.getLocalVariables();(this||_global$3).compiler=new e({scope:(this||_global$3).scope,isCoffee:true})}AutoComplete.prototype.autocomplete=function(t){var e,o;try{return this.completeAttribute(t)||this.completeVariable(t)||[[],t]}catch(o){e=o;return[[],[]]}};AutoComplete.prototype.completeAttribute=function(e){var o,r,n,l,s,a,p,u;if(s=e.match(t)||e.match(i)){o=s[0],a=s[1],p=s[2];try{u=(this||_global$3).compiler.execute(a)}catch(l){n=l;return[[],e]}r=this.getCompletions(p,this.getPropertyNames(u));return[r,p||""]}};AutoComplete.prototype.completeVariable=function(t){var e,r,i,s;if(e=null!=(s=t.match(l))?s[1]:void 0){r=function(){var t;t=[];for(i in _global$3)o.call(_global$3,i)&&-1===n.indexOf(i)&&t.push(i);return t}();return[this.getCompletions(e,(this||_global$3).localVars.concat(n,r)),e]}};AutoComplete.prototype.getCompletions=function(t,e){var o,r,n,l;if(t){l=[];for(r=0,n=e.length;r<n;r++){o=e[r];0===o.indexOf(t)&&l.push(o)}return l}return e};AutoComplete.prototype.getPropertyNames=function(t){var e,o,n,l,i,s,a,p,u;a=function(){var o;o=[];for(s in t){e=t[s];o.push(s)}return o}();if("string"===typeof t)a=Object.getOwnPropertyNames(String.prototype);else if(t instanceof Array)a=Object.getOwnPropertyNames(Array.prototype);else if(t===Object||t===Reflect)a=Object.getOwnPropertyNames(t);else{u=t;while(true){if(null==u)break;if("object"===(p=typeof u)||"function"===p){l=Reflect.ownKeys(u);if(r.call(l,"__proto__")>=0)break;for(o=0,i=l.length;o<i;o++){n=l[o];"constructor"!==n&&"symbol"!==typeof n&&a.push(n)}}u=Reflect.getPrototypeOf(u)}}return Array.from(new Set(a))};return AutoComplete}();exports$5=t}).call(exports$5);return exports$5}var exports$6={},_dewExec$6=false;var _global$4="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$6(){if(_dewExec$6)return exports$6;_dewExec$6=true;(function(){var t,e,o,r,n;r=_pygmentizeBundled;o=_deasync;e=_chalk;n=_util;t=function(){SyncHighlight.prototype.content=null;SyncHighlight.prototype.type=null;function SyncHighlight(t,e){(this||_global$4).type=null!=e?e:"javascript";(this||_global$4).content="function"===typeof t?t.toString():"string"===typeof t?t:JSON.stringify(t,(this||_global$4).stringify,"\t")}SyncHighlight.prototype.stringify=function(t,e){return"function"===typeof e?n.inspect(e):e};SyncHighlight.prototype.highlight=function(){var t,n;if(e.supportsColor){n=t=false;r({lang:(this||_global$4).type,format:"terminal"},(this||_global$4).content,function(e){return function(o,r){n=true;return t=o?e.content:r.toString()}}(this||_global$4));while(!n)o.runLoopOnce()}else t=(this||_global$4).content;return t};SyncHighlight.prototype.code_snippet=function(t,o,r,n){var l,i,s,a,p,u;null==n&&(n=" => ");p=this.highlight().split("\n");for(i=l=0,s=p.length;l<s;i=++l){a=p[i];u=i+1===r?n:this._spaces(n.length);p[i]=""+u+this._space(i+1)+e.cyan(i+1)+": "+a}return p.slice(t-1,o).join("\n")};SyncHighlight.prototype._space=function(t){return this._spaces(4-String(t).length)};SyncHighlight.prototype._spaces=function(t,e){null==e&&(e=" ");return new Array(t+1).join(e)};return SyncHighlight}();exports$6=t}).call(exports$6);return exports$6}var exports$7={},_dewExec$7=false;var _global$5="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$7(){if(_dewExec$7)return exports$7;_dewExec$7=true;(function(){var t,e,o,bind=function(t,e){return function(){return t.apply(e,arguments)}};o=_fs;e=dew$6();t=function(){function File(t,e){var o,r,n,l,i,s;(this||_global$5).name=t;(this||_global$5).line=null!=e?e:0;(this||_global$5)._getIndentLevel=bind((this||_global$5)._getIndentLevel,this||_global$5);(this||_global$5).lines=this.content().split("\n");if(!(null!=(i=(this||_global$5).lines[(this||_global$5).line])?i.match(/pry\.it/):void 0)){s=(this||_global$5).lines;for(o=r=0,l=s.length;r<l;o=++r){n=s[o];if(null!=n.match(/eval\s*\(?\s*pry\.it/)){(this||_global$5).line=o+1;break}}}}File.prototype.type=function(){return(this||_global$5).name.match(/coffee$/)?"coffee":"js"};File.prototype.by_lines=function(t,e){null==e&&(e=t);return(this||_global$5).lines.slice(t-1,e).join("\n")};File.prototype.content=function(){return(this||_global$5)._content||((this||_global$5)._content=o.readFileSync((this||_global$5).name).toString())};File.prototype.formatted_content_by_line=function(t,o,r){null==o&&(o=t);null==r&&(r=(this||_global$5).line);t=t<0?0:t;return new e(this.content(),this.type()).code_snippet(t,o,r)};File.prototype._getIndentLevel=function(t){return null!=t&&t.length-t.trimLeft().length};File.prototype.getLocalVariables=function(){var t,e,o,r,n,l,i,s,a,p,u,c,f,h,g;e=this._getIndentLevel((this||_global$5).lines[(this||_global$5).line-1]);g=[];for(o=n=c=(this||_global$5).line-2;c<=0?n<=0:n>=0;o=c<=0?++n:--n)if(o>0){s=(this||_global$5).lines[o];r=this._getIndentLevel(s);if(!(r>e)&&s.match(/\S/)){e=r;p=s.match(/^\s*(?:\[|{)((?:\w+|\,|\s)+)(?:\]|})\s*\=|^\s*(\w+)\s*\=/);if(null!=p){t=p[0],u=p[1],h=p[2];if(null!=u){f=u.split(",");for(l=0,i=f.length;l<i;l++){a=f[l];g.push(a.trim())}}null!=h&&g.push(h.trim())}else{p=s.match(/class (\w+)/);null!=p&&g.push(p[1])}}}return g};return File}();exports$7=t}).call(exports$7);return exports$7}var exports$8={},_dewExec$8=false;var _global$6="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$8(){if(_dewExec$8)return exports$8;_dewExec$8=true;(function(){var t,e,o,r,n,l,bind=function(t,e){return function(){return t.apply(e,arguments)}};n=dew();r=dew$2();l=dew$3();e=dew$5();o=dew$7();t=function(){App.prototype._commands=[];function App(t,o){var l;(this||_global$6).scope=t;(this||_global$6).isStandAlone=o;(this||_global$6).find_file=bind((this||_global$6).find_file,this||_global$6);(this||_global$6).find_command=bind((this||_global$6).find_command,this||_global$6);(this||_global$6).output=new r;(this||_global$6).stack=(new Error).stack;l=(this||_global$6).isStandAlone?"coffee":this.find_file().type();(this||_global$6).prompt=new n({typeahead:new e((this||_global$6).scope,this.find_file()).autocomplete,mode:l});(this||_global$6).prompt.onData=(this||_global$6).find_command}App.prototype.commands=function(){var t,e;if(0===(this||_global$6)._commands.length)for(t in l){e=l[t];(this||_global$6)._commands.push(new e({output:(this||_global$6).output,scope:(this||_global$6).scope,prompt:(this||_global$6).prompt,app:this||_global$6}))}return(this||_global$6)._commands};App.prototype.find_command=function(t,e){var o,r,n,l,i,s;s=this.commands();for(n=0,l=s.length;n<l;n++){r=s[n];if(i=r.match(t.trim())){o=String(i[1]).trim().split(" ");return r.execute.call(r,o,e)}}return false};App.prototype.open=function(){(this||_global$6).isStandAlone||(this||_global$6).prompt.type("whereami");return(this||_global$6).prompt.open()};App.prototype.find_file=function(){return(this||_global$6).file||((this||_global$6).file=function(t){return function(){var e,r,n,l,i,s,a,p,u;n=false;p=t.stack.split("\n");for(l=0,s=p.length;l<s;l++){i=p[l];if(n){u=i.match(/([^ (:]+):(\d+):\d+/),e=u[0],r=u[1],a=u[2];if("<anonymous>"!==r)return new o(r,parseInt(a))}else i.match(/Pry\.open/)&&(n=true)}return new o(new URL(import.meta.url).pathname,null)}}(this||_global$6)())};return App}();exports$8=t}).call(exports$8);return exports$8}var exports$9={},_dewExec$9=false;var module={exports:exports$9};var _global$7="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$9(){if(_dewExec$9)return module.exports;_dewExec$9=true;(function(){var App,Pry,pry;App=dew$8();Pry=function(){function Pry(arg){var repl;(this||_global$7).isStandAlone=(null!=arg?arg:{}).isStandAlone;repl=function(_){return pry.open(function(_this){return function(input){return _=eval(input)}}(this||_global$7))};(this||_global$7).it="("+repl.toString()+").call(this)"}Pry.prototype.open=function(t){var e;e=new App(t,(this||_global$7).isStandAlone);return e.open()};return Pry}();module.exports=new Pry;void 0===module&&eval((pry=new Pry({isStandAlone:true})).it)}).call(exports$9);return module.exports}var pry=dew$9();export default pry;export{dew$9 as __dew};

